(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{403:function(t,e,n){"use strict";n.r(e);var o={props:{post:{type:Object,required:!0}},data:function(){return{valid:!1,content:""}},computed:{me:function(){return this.$store.state.users.me}},methods:{onSubmitComment:function(){var t=this;this.$refs.form.validate()&&this.$store.dispatch("posts/addComment",{content:this.content,author:"Test",postId:this.post.id}).then((function(){t.$refs.form.reset()})).catch((function(t){console.log(t)}))},onCommentsToggle:function(){this.$emit("onCommentsToggle")}}},r=n(34),c=n(52),l=n.n(c),v=n(167),m=n(224),d=n(166),f=n(24),h=n(382),_=n(371),w=n(372),x=n(103),V=n(391),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.onSubmitComment(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-card",[n("v-card-title",[t._v("\n\t\t\t\tComments\n\t\t\t\t"),n("v-btn",{style:{position:"absolute",right:"20px"},attrs:{fab:"",text:""},on:{click:t.onCommentsToggle}},[n("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),n("v-card-actions",[n("v-container",[n("v-textarea",{attrs:{"auto-grow":"",label:"Comments",filled:"",clearable:""},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),t._v(" "),n("v-btn",{attrs:{color:"blue",dark:"",type:"submit"}},[t._v("\n\t\t\t\t\tPost\n\t\t\t\t")])],1)],1)],1),t._v(" "),n("v-card",{attrs:{flat:""}},t._l(t.post.comments,(function(p){return n("v-card",{key:t.post.id,attrs:{"max-width":"600",flat:""}},[n("v-container",[n("v-divider"),t._v(" "),n("v-card-title",[n("v-avatar",{style:{marginRight:"10px"},attrs:{color:"blue",size:"36"}}),t._v("\n\t\t\t\t\t"+t._s(p.author)+"\n\t\t\t\t")],1),t._v(" "),n("v-card-subtitle",[n("span",{style:{marginTop:"10px"}},[t._v(t._s(p.createAt))])]),t._v(" "),n("v-card-text",[t._v("\n\t\t\t\t\t"+t._s(p.comment)+"\n\t\t\t\t")])],1)],1)})),1)],1)}),[],!1,null,null,null),C=component.exports;l()(component,{VAvatar:v.a,VBtn:m.a,VCard:d.a,VCardActions:f.a,VCardSubtitle:f.b,VCardText:f.c,VCardTitle:f.d,VContainer:h.a,VDivider:_.a,VForm:w.a,VIcon:x.a,VTextarea:V.a});var k={props:{post:{type:Object,required:!0}},data:function(){return{menu:!1}},computed:{mainPosts:function(){return this.$store.state.posts.mainPosts}},methods:{onDeleteTweet:function(){this.$store.dispatch("posts/removeMainPosts",{id:this.post.id}).then((function(){})).catch((function(t){console.log(t)}))},onRouteTweetPage:function(){return this.$router.push({path:"/post/".concat(this.post.id)})},onRouteAuthor:function(){return console.log("hi"),this.$router.push({path:"/user/".concat(this.post.author.id)})}},components:{CommentForm:C}},y=n(411),T=n(138),$=n(169),P=n(104),I=n(406),E=Object(r.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{style:{marginBottom:"30px"}},[n("v-card-title",[n("v-avatar",{attrs:{color:"warning lighten-2",size:"48"},on:{click:t.onRouteAuthor}},[n("v-img",{attrs:{src:"https://www.pavilionweb.com/wp-content/uploads/2017/03/man-300x300.png"}})],1),t._v(" "),n("span",{style:{marginLeft:"10px",fontSize:"25px"},on:{click:t.onRouteAuthor}},[t._v("\n\t\t\t\t"+t._s(t.post.author.name)+"\n\t\t\t")])],1),t._v(" "),n("v-card-subtitle",[t._v("\n\t\t\tmoment\n\t\t")]),t._v(" "),n("v-container",[n("v-divider")],1),t._v(" "),n("v-card-text",{on:{click:t.onRouteTweetPage}},[t._v("\n\t\t\t"+t._s(t.post.content)+"\n\t\t")]),t._v(" "),n("v-container",[n("v-card-actions",[n("v-bottom-navigation",{attrs:{color:"blue",grow:""}},[n("v-btn",[n("v-icon",{attrs:{large:"",color:"blue"}},[t._v("mdi-share-all-outline")])],1),t._v(" "),n("v-btn",[n("v-icon",{attrs:{large:"",color:"blue"}},[t._v("mdi-heart-outline")])],1),t._v(" "),n("v-menu",{attrs:{"min-width":"600","max-height":"400","max-width":"600",top:"","close-on-click":!1,"close-on-content-click":!1,"offset-y":"","nudge-top":"30"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({},"v-btn",r,!1),o),[n("v-icon",{attrs:{large:"",color:"blue"}},[t._v("mdi-comment-multiple-outline")])],1)]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),n("CommentForm",{attrs:{post:t.post},on:{onCommentsToggle:function(e){t.menu=!1}}})],1),t._v(" "),n("v-menu",{scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("v-btn",[n("v-icon",t._g(t._b({attrs:{large:"",color:"blue"}},"v-icon",r,!1),o),[t._v("mdi-dots-horizontal-circle-outline")])],1)]}}],null,!1,3455056632)},[t._v(" "),n("v-list",[n("v-list-item",{style:{justifyContent:"center"},on:{click:function(e){return t.onEditTweet()}}},[n("div",[n("v-btn",{attrs:{dark:"",text:"",color:"green"}},[t._v("Edit")])],1)]),t._v(" "),n("v-list-item",{style:{justifyContent:"center"},on:{click:function(e){return t.onDeleteTweet()}}},[n("div",[n("v-btn",{attrs:{dark:"",text:"",color:"red"}},[t._v("Delete")])],1)])],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null),S=E.exports;l()(E,{VAvatar:v.a,VBottomNavigation:y.a,VBtn:m.a,VCard:d.a,VCardActions:f.a,VCardSubtitle:f.b,VCardText:f.c,VCardTitle:f.d,VContainer:h.a,VDivider:_.a,VIcon:x.a,VImg:T.a,VList:$.a,VListItem:P.a,VMenu:I.a});var A={data:function(){return{tweetRules:[function(t){return!!t||"Text is required"}],valid:!1,content:""}},methods:{onPostTweet:function(){var t=this;this.$refs.form.validate()?this.$store.dispatch("posts/addMainPosts",{content:this.content,author:this.me}).then((function(){console.log("post tweet!"),console.log(t.content),console.log(t.me),t.$refs.form.reset()})).catch((function(t){console.log(t)})):this.$refs.form.reset()},onClickImgUpload:function(){return this.$refs.imageInput.click()},onChangeImages:function(t){console.log(t.target.files);var e=new FormData;return[].forEach.call(t.target.files,(function(t){e.append("image",t)})),console.log(e),this.$store.dispatch("posts/uploadImages",e)},onClickImgRemove:function(t){return this.$store.commit("posts/REMOVEIMGPATHS",t)}},computed:{me:function(){return this.$store.state.users.me},imagePaths:function(){return this.$store.state.posts.imagePaths}}},R=Object(r.a)(A,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.onPostTweet(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-card",{style:{marginBottom:"30px"}},[n("v-card-title",[n("span",{style:{fontSize:"30px"}},[t._v("\n\t\t\t\t\tAdd a post\n\t\t\t\t")]),t._v(" "),n("v-btn",{style:{margin:"0px 20px"},attrs:{color:"blue",fab:"",outlined:"",type:"button"},on:{click:t.onClickImgUpload}},[n("v-icon",[t._v("mdi-image-multiple-outline")])],1),t._v(" "),n("input",{ref:"imageInput",attrs:{type:"file",multiple:"",hidden:""},on:{change:t.onChangeImages}})],1),t._v(" "),n("v-container",[n("v-textarea",{attrs:{clearable:"",outlined:"",counter:"",placeholder:"What's happening?",height:"100",rules:t.tweetRules},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),t._v(" "),n("v-card-actions",[n("v-btn",{style:{marginBottom:"10px"},attrs:{color:"blue",rounded:"",outlined:"",type:"submit"},on:{click:t.onClickTweet}},[t._v("\n\t\t\t\t\tTweet\n\t\t\t\t")])],1),t._v(" "),n("v-container",t._l(t.imagePaths,(function(img,i){return n("div",{key:img,style:{display:"inline-block"}},[n("v-container",[n("v-img",{style:{display:"inline-block",width:"200px",position:"relative"},attrs:{src:"https://vuewitterexpressmongo.run.goorm.io/"+img,alt:img}}),t._v(" "),n("v-btn",{attrs:{icon:"",dark:"",color:"red"},on:{click:function(e){return t.onClickImgRemove(i)}}},[n("v-icon",[t._v("mdi-minus")])],1)],1)],1)})),0)],1)],1)],1)}),[],!1,null,null,null),D=R.exports;l()(R,{VBtn:m.a,VCard:d.a,VCardActions:f.a,VCardTitle:f.d,VContainer:h.a,VForm:w.a,VIcon:x.a,VImg:T.a,VTextarea:V.a});var j={data:function(){return{msg:"Hello Nuxt"}},components:{Tweets:S,PostTweet:D},computed:{me:function(){return this.$store.state.users.me},mainPosts:function(){return this.$store.state.posts.mainPosts},hasMorePost:function(){return this.$store.state.posts.hasMorePost}},fetch:function(t){t.store.dispatch("posts/loadPosts")},mounted:function(){window.addEventListener("scroll",this.onInfiniteSrolling)},beforeDestroy:function(){window.removeEventListener("scroll",this.onInfiniteSrolling)},methods:{onInfiniteSrolling:function(){if(document.documentElement.scrollHeight<document.documentElement.clientHeight+window.scrollY+500&&this.hasMorePost)return this.$store.dispatch("posts/loadPosts")}}},M=Object(r.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.me?n("PostTweet"):t._e(),t._v(" "),t._l(t.mainPosts,(function(t){return n("Tweets",{key:t.id,attrs:{post:t}})}))],2)}),[],!1,null,null,null);e.default=M.exports}}]);